\documentclass[12pt,a4paper,UTF8,oneside]{ctexbook}
\usepackage[tbtags]{amsmath}
\usepackage{extarrows}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{booktabs}
\usepackage{appendix}
\usepackage{arydshln}
\usepackage{caption}
\usepackage{float}
\usepackage{bm}
\usepackage{cases}
\usepackage[strict]{changepage}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{environ}
\usepackage{etoolbox}
\usepackage{hyperref}
\usepackage[nameinlink]{cleveref}
\usepackage{framed}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{lipsum}
\usepackage{listings}
\usepackage{lmodern}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{multirow}
\usepackage{newtxtext}
\usepackage{threeparttable}
\usepackage{tikz-cd}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric, positioning, calc}
\usepackage[dvipsnames,svgnames]{xcolor}
\usepackage[format=hang,font=small,textfont=it]{caption}
\geometry{top=25.4mm,bottom=25.4mm,left=20mm,right=20mm,headheight=2.17cm,headsep=4mm,footskip=12mm}
\hypersetup{
    colorlinks=false,
    linkcolor=blue,
    citecolor=green,
    urlcolor=red,
}
\setenumerate[1]{itemsep=5pt,partopsep=0pt,parsep=\parskip,topsep=5pt}
\setitemize[1]{itemsep=5pt,partopsep=0pt,parsep=\parskip,topsep=5pt}
\setdescription{itemsep=5pt,partopsep=0pt,parsep=\parskip,topsep=5pt}
\allowdisplaybreaks[4]
\title{\textbf{数学分析笔记}}
\author{机笑}
\date{\today}
\linespread{1.5}
\setcounter{tocdepth}{1}
\definecolor{formalshade}{rgb}{0.95,0.95,1}
\definecolor{greenshade}{rgb}{0.90,0.99,0.91}
\definecolor{redshade}{rgb}{1.00,0.90,0.90}
\definecolor{brownshade}{rgb}{0.99,0.97,0.93}
\newenvironment{formal}{%
\def\FrameCommand{%
\hspace{1pt}%
{\color{DarkBlue}\vrule width 2pt}%
{\color{formalshade}\vrule width 4pt}%
\colorbox{formalshade}%
}%
\MakeFramed{\advance\hsize-\width\FrameRestore}%
\noindent\hspace{-4.55pt}%
\begin{adjustwidth}{}{7pt}%
\vspace{2pt}\vspace{2pt}%
}%
{%
\vspace{2pt}\end{adjustwidth}\endMakeFramed%
}%
\newenvironment{green}{%
\def\FrameCommand{%
\hspace{1pt}%
{\color{Green}\vrule width 2pt}%
{\color{greenshade}\vrule width 4pt}%
\colorbox{greenshade}%
}%
\MakeFramed{\advance\hsize-\width\FrameRestore}%
\noindent\hspace{-4.55pt}%
\begin{adjustwidth}{}{7pt}%
\vspace{2pt}\vspace{2pt}%
}%
{%
\vspace{2pt}\end{adjustwidth}\endMakeFramed%
}%
\newenvironment{red}{%
\def\FrameCommand{%
\hspace{1pt}%
{\color{LightCoral}\vrule width 2pt}%
{\color{redshade}\vrule width 4pt}%
\colorbox{redshade}%
}%
\MakeFramed{\advance\hsize-\width\FrameRestore}%
\noindent\hspace{-4.55pt}%
\begin{adjustwidth}{}{7pt}%
\vspace{2pt}\vspace{2pt}%
}%
{%
\vspace{2pt}\end{adjustwidth}\endMakeFramed%
}%
\newenvironment{brown}{%
\def\FrameCommand{%
\hspace{1pt}%
{\color{BurlyWood}\vrule width 2pt}%
{\color{brownshade}\vrule width 4pt}%
\colorbox{brownshade}%
}%
\MakeFramed{\advance\hsize-\width\FrameRestore}%
\noindent\hspace{-4.55pt}%
\begin{adjustwidth}{}{7pt}%
\vspace{2pt}\vspace{2pt}%
}%
{%
\vspace{2pt}\end{adjustwidth}\endMakeFramed%
}%
\newtheoremstyle{mydefinition}{3pt}{3pt}{\itshape}{0cm}{\bf}{}{1em}{}
\theoremstyle{mydefinition}
%formal
\newtheorem{theorem}{\indent Theorem}[section]
\newtheorem{definition}{\indent Definition}[section]
\newtheorem{proposition}{\indent Proposition}[section]
\newtheorem{criterion}{\indent Criterion}[section]
%green
\newtheorem{lemma}{\indent Lemma}[section]
\newtheorem{corollary}{\indent Corollary}[section]
%brown
\newtheorem{example}{\indent Example}[section]
\newtheorem{problem}{\indent Problem}[section]
\newtheorem*{solution}{\indent Solution}
\newenvironment{Proof}{\begin{proof}[\textnormal{\textbf{Proof}}]}{\end{proof}}
%red
\newtheorem*{remark}{\indent \color{red}{Remark}}
\crefformat{theorem}{\textup{\textbf{Theorem~#2#1#3~}}}
\crefname{theorem}{Theorem}{Theorems}
\crefformat{definition}{\textup{\textbf{Definition~#2#1#3~}}}
\crefname{definition}{Definition}{Definitions}
\crefformat{proposition}{\textup{\textbf{Proposition~#2#1#3~}}}
\crefname{proposition}{Proposition}{Propositions}
\crefformat{criterion}{\textup{\textbf{Criterion~#2#1#3~}}}
\crefname{criterion}{Criterion}{Criteria}
\crefformat{lemma}{\textup{\textbf{Lemma~#2#1#3~}}}
\crefname{lemma}{Lemma}{Lemmas}
\crefformat{corollary}{\textup{\textbf{Corollary~#2#1#3~}}}
\crefname{corollary}{Corollary}{Corollaries}
\crefformat{example}{\textup{\textbf{Example~#2#1#3~}}}
\crefname{example}{Example}{Examples}
\crefformat{problem}{\textup{\textbf{Problem~#2#1#3~}}}
\crefname{problem}{Problem}{Problems}
\lstset{
	alsolanguage = Java,
	alsolanguage = [ANSI]C,    
    alsolanguage = Python,
	alsolanguage = matlab,
	alsolanguage = XML,
	tabsize=4, 
	frame=shadowbox, 
	columns=fullflexible,
	commentstyle=\color[RGB]{0,0.6,0},
	rulesepcolor=\color{red!20!green!20!blue!20},
	keywordstyle=\color{blue!90}\bfseries, 
	showstringspaces=false,
	stringstyle=\color[RGB]{0.58,0,0.82}\ttfamily, 
	keepspaces=true, 
	breakindent=22pt, 
	numbers=left,
	stepnumber=1,
	numberstyle={\color{black}\tiny} ,
	numbersep=8pt,
	basicstyle=\footnotesize\ttfamily,
	showspaces=false, 
	flexiblecolumns=true, 
	breaklines=true, 
	breakautoindent=true,
	breakindent=4em, 
	aboveskip=1em, 
	tabsize=2,
	showstringspaces=false, 
	backgroundcolor=\color{white},   
	escapeinside={\%*}{*)}, 
	fontadjust,
	captionpos=b,
	framextopmargin=2pt,framexbottommargin=2pt,abovecaptionskip=-3pt,belowcaptionskip=3pt,
	xleftmargin=4em,xrightmargin=4em, 
	texcl=true,
	extendedchars=false,columns=flexible,mathescape=true
}
\newcommand{\nin}{\enspace \overline{\in}\enspace}
\begin{document}
\thispagestyle{empty}
\maketitle
\thispagestyle{empty}
\newpage
\section*{前言}
\thispagestyle{empty}
这是作者自己的数学分析笔记,
主要参考教材为高等教育出版社《数学分析（第三版）》,欢迎任何有价值的问题探讨与交流.

作者全网名称一般是机笑或者Arshtyi,同时欢迎作者的微信公众号：机笑理运.作者的常用联系方式包括 QQ:640006128.

值得一提的是,作者并非数学系出身,同时由于个人能力问题,难免有谬误存在,这也欢迎大家的指正.另外,本文并不适合完全意义上的初学者使用,如果必要,可以参考其他资料进行理解.

本文完全使用\LaTeX 写作,所有的\LaTeX 源代码可在Github上作者的仓库找到并下载,项目地址：https://github.com/Arshtyi/Mathematical-Analysis,允许个人预习、复习等其他个人用途但禁止未经我本人同意的商业相关用途.
\begin{flushright}
    \begin{tabular}{c}
        机笑/Arshtyi\\
        \today \\ 穷诸
        玄辩,若一毫置
        于太虚；\\ 竭世枢
        机,似一滴投于巨壑.
    \end{tabular}
\end{flushright}
\thispagestyle{empty}

\newpage
\pagenumbering{Roman}
\setcounter{page}{1}
\pagestyle{plain}
\tableofcontents
\newpage
\setcounter{page}{1}
\pagenumbering{arabic}
\pagestyle{plain}
\input{chapters/chapter1.tex}
\input{chapters/chapter2.tex}
\newpage
\nocite{*}
\bibliographystyle{plain}
\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{参考文献}
\bibliography{References}
\end{document}